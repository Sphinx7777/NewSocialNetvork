{"version":3,"sources":["Components/Validators/ValidatorsComponents.jsx","Components/Validators/ValidatorsComponents.module.scss","Components/Validators/CheckComponent.jsx","Components/Hoc/Redirect/withAuthRedirect.jsx","Components/Dialogs/Dialogs.module.scss","Components/Dialogs/DialogsReduxForm.module.scss","Images/skull.png","Components/Dialogs/DialogsReduxForm.jsx","Components/Dialogs/Dialogs.jsx","Components/Dialogs/DialogsContainer.jsx"],"names":["__webpack_require__","d","__webpack_exports__","InputComponent","TextAreaComponent","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ValidatorsComponents_module_scss__WEBPACK_IMPORTED_MODULE_1__","_ValidatorsComponents_module_scss__WEBPACK_IMPORTED_MODULE_1___default","_ref","input","label","size","type","placeholder","autoFocus","_ref$meta","meta","error","warning","touched","a","createElement","Fragment","className","s","inputLabel","errorInputLabel","Object","assign","inputField","errorInputField","inputError","inputWarning","_ref2","rows","cols","_ref2$meta","areaField","errorAreaField","areaError","areaWarning","module","exports","areaLabel","errorAreaLabel","emptyField","maxLengthCreator","minLengthCreator","value","length","maxLength","values","concat","minLength","mapStateToProps","state","loadLogin","auth","withAuthRedirect","Component","redirectWrapper","_React$Component","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","props","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","React","connect","users","userItem","ava","name","active","search","dialogsWrapper","dialogs","posts","userPostWrapper","myPostWrapper","userPost","myPost","postContent","myPostContent","date","userInfo","postAvatar","dialogForm","newDialogForm","newDialogBtn","Btn","clearBtn","p","minLength3","reduxForm","form","pristine","handleSubmit","submitting","reset","react_default","onSubmit","onKeyPressCapture","event","Field","component","validate","disabled","onClick","Dialogs","sendNewMessage","getNewProfile","myPhoto","userProfile","loadProfile","myMessages","getFriendMessage","sendMessageStatus","friendMessages","loadFriendMessages","_useState","useState","_useState2","slicedToArray","profile","setProfile","_useState3","_useState4","friend","setUsers","_useState5","_useState6","messages","setMessages","_useState7","_useState8","newFriendMessages","setFriendMessages","useEffect","onChange","target","filter","t","toLowerCase","match","map","u","id","userId","src","photos","large","alt","Preloader","m","Math","random","react_router_dom","senderName","body","addedAt","slice","Dialogs_DialogsReduxForm","newTextDialog","ms","Promise","resolve","setTimeout","then","DialogsContainer","getUsersForFriends","page","getMyPhoto","loginId","friendLoaded","Dialogs_Dialogs","compose","dialogsPage","totalCount","profilePage","login"],"mappings":"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","file":"static/js/6.26749a4c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from './ValidatorsComponents.module.scss';\r\n\r\n\r\n\r\n// input for Redux-form\r\nexport const InputComponent = (\r\n\t{input,label,size,type,placeholder,autoFocus,meta: {error, warning, touched}}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.inputLabel + ' ' + (touched && error ? s.errorInputLabel : '')}>{label}</div>\r\n\t\t\t<input className={s.inputField + ' ' + (touched && error ? s.errorInputField : '')}\r\n\t\t\t\t\t\t {...input} autoFocus={autoFocus} placeholder={placeholder} size={size} type={type}/>\r\n\t\t\t{touched &&\r\n\t\t\t((error && <div className={s.inputError}>{error}</div>) ||\r\n\t\t\t\t(warning && <div className={s.inputWarning}>{warning}  </div>))}\r\n\t\t</>\r\n\t)\r\n};\r\n// textarea for Redux-form\r\nexport const TextAreaComponent = (\r\n\t{input,label,rows,cols,meta: {error, warning, touched}}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<textarea className={s.areaField + ' ' + (touched && error ? s.errorAreaField : '')}\r\n\t\t\t\t\t\t {...input} placeholder={label} rows={rows} cols={cols} />\r\n\t\t\t{touched &&\r\n\t\t\t((error && <div className={s.areaError}>{error}</div>) ||\r\n\t\t\t\t(warning && <div className={s.areaWarning}>{warning}</div>))}\r\n\t\t</>\r\n\t)\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputLabel\":\"ValidatorsComponents_inputLabel__3F-N-\",\"areaLabel\":\"ValidatorsComponents_areaLabel__2pzlo\",\"errorInputLabel\":\"ValidatorsComponents_errorInputLabel__3zAbC\",\"errorAreaLabel\":\"ValidatorsComponents_errorAreaLabel__F5YOI\",\"inputField\":\"ValidatorsComponents_inputField__3mIQw\",\"areaField\":\"ValidatorsComponents_areaField__3l9xE\",\"errorInputField\":\"ValidatorsComponents_errorInputField__1QmbF\",\"errorAreaField\":\"ValidatorsComponents_errorAreaField__1YoIV\",\"areaError\":\"ValidatorsComponents_areaError__3_5JK\",\"inputError\":\"ValidatorsComponents_inputError__1Lk95\"};","\r\n\r\nexport const emptyField =(value) => {\r\n\tif(value && value.length>=1) return undefined;\r\n\treturn 'Required field'\r\n};\r\n\r\nexport const maxLengthCreator=(maxLength) =>(values) => {\r\n\tif(values && values.length>maxLength) return `Max ${maxLength} symbols`;\r\n\treturn undefined;\r\n};\r\n\r\nexport const minLengthCreator=(minLength) =>(values) => {\r\n\tif(values && values.length<minLength) return `Minimum ${minLength} symbols`;\r\n\treturn undefined;\r\n};\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tloadLogin: state.auth.loadLogin\r\n\t}\r\n};\r\n// редирект на страницу логина со страниц с необходимостью авторизации\r\nexport const withAuthRedirect =(Component) => {\r\n\tclass redirectWrapper extends React.Component  {\r\n\trender() {\r\n\t\tif(!this.props.loadLogin) return <Redirect to='/login'/>;\r\n\t\treturn <Component {...this.props}/>\r\n\t}\r\n}\r\nreturn connect(mapStateToProps)(redirectWrapper);\r\n\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Dialogs_users__3agL4\",\"userItem\":\"Dialogs_userItem__2sV4v\",\"ava\":\"Dialogs_ava__7HtvP\",\"name\":\"Dialogs_name__32agN\",\"active\":\"Dialogs_active__1u_c7\",\"search\":\"Dialogs_search__1dKno\",\"dialogsWrapper\":\"Dialogs_dialogsWrapper__2amst\",\"dialogs\":\"Dialogs_dialogs__3By4X\",\"posts\":\"Dialogs_posts__ai_z8\",\"userPostWrapper\":\"Dialogs_userPostWrapper__1vMWX\",\"myPostWrapper\":\"Dialogs_myPostWrapper__2_stn\",\"userPost\":\"Dialogs_userPost__18gAJ\",\"myPost\":\"Dialogs_myPost__3ah54\",\"postContent\":\"Dialogs_postContent__3DN5r\",\"myPostContent\":\"Dialogs_myPostContent__xBmT0\",\"date\":\"Dialogs_date__2czFn\",\"userInfo\":\"Dialogs_userInfo__1P3ky\",\"postAvatar\":\"Dialogs_postAvatar__1TEoL\",\"dialogForm\":\"Dialogs_dialogForm__VkoAl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newDialogForm\":\"DialogsReduxForm_newDialogForm__JsTjo\",\"newDialogBtn\":\"DialogsReduxForm_newDialogBtn__2an9a\",\"Btn\":\"DialogsReduxForm_Btn__a5Aqy\",\"clearBtn\":\"DialogsReduxForm_clearBtn__3mGZ9\"};","module.exports = __webpack_public_path__ + \"static/media/skull.626f1c67.png\";","import React from 'react';\r\nimport s from './DialogsReduxForm.module.scss';\r\nimport {Field,reduxForm} from \"redux-form\";\r\n\r\nimport {minLengthCreator} from \"../Validators/CheckComponent\";\r\nimport {TextAreaComponent} from \"../Validators/ValidatorsComponents\";\r\n\r\n\r\n\r\nlet minLength3=minLengthCreator(3);\r\n\r\nconst DialogsReduxForm = ({pristine,handleSubmit,submitting,reset}) => {\r\n\r\n\treturn (\r\n\t\t<form  className={s.newDialogForm} onSubmit={handleSubmit} onKeyPressCapture={(event) => {\r\n\r\n\t\t\tif (event.key === 'Enter') {\r\n\t\t\t\thandleSubmit()\r\n\t\t\t}\r\n\t\t}} >\r\n\t\t\t<Field\r\n\t\t\t\t\t\t component={TextAreaComponent}\r\n\t\t\t\t\t\t cols='170' rows='3' name={'newTextDialog'}\r\n\t\t\t\t\t\t validate={[minLength3]} label='At least 3 characters every 5 seconds'\r\n\r\n\t\t\t/>\r\n\t\t\t<div className={s.newDialogBtn}>\r\n\t\t\t\t<button className={s.Btn} disabled={pristine || submitting}>Send message</button>\r\n\t\t\t\t<button className={s.clearBtn} type=\"button\" disabled={pristine} onClick={reset}>\r\n\t\t\t\t\tClear field\r\n\t\t\t\t</button>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</form>\r\n\t)\r\n};\r\nexport default reduxForm({form: 'newDialogText'})(DialogsReduxForm);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport s from './Dialogs.module.scss';\r\nimport DialogsReduxForm from \"./DialogsReduxForm\";\r\nimport ava from \"./../../Images/skull.png\";\r\nimport {Preloader} from \"../Others/Preloader/Preloader\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const Dialogs = ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsendNewMessage, users, getNewProfile, myPhoto,loadProfile,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserProfile, myMessages, sendMessageStatus, getFriendMessage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tloadFriendMessages, friendMessages,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}) => {\r\n\tconst [profile, setProfile] = useState(userProfile);\r\n\tconst [friend, setUsers] = useState(users);\r\n\tconst [messages, setMessages] = useState(myMessages);\r\n\tconst [newFriendMessages, setFriendMessages] = useState(friendMessages);\r\n\r\n\tlet getDialogs = (id) => {\r\n\t\tgetNewProfile(id);\r\n\t\tgetFriendMessage(id)\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetFriendMessages(friendMessages)\r\n\t}, [profile, friendMessages]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetProfile(userProfile)\r\n\t}, [userProfile]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMessages(myMessages)\r\n\t}, [myMessages]);\r\n\r\n\r\n\tlet searchFriend = (name) => {\r\n\t\tif (name.length) {\r\n\t\t\tsetUsers(() => users.filter(t => t.name.toLowerCase().match(name.toLowerCase())));\r\n\t\t} else {\r\n\t\t\tsetUsers(users);\r\n\t\t}\r\n\t};\r\n\r\n\tlet onSubmit = (values) => {\r\n\t\tvalues.newTextDialog && sendNewMessage(profile.userId, values.newTextDialog);\r\n\t\tconst disableBtnSend = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\t\treturn disableBtnSend(5000).then(() => {\r\n\t\t\treturn true;\r\n\t\t})\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.users}>\r\n\t\t\t\t<input className={s.search} placeholder='Search ' type='text' onChange={(event) => {\r\n\t\t\t\t\tsearchFriend(event.target.value)\r\n\t\t\t\t}}/>\r\n\t\t\t\t{friend.length ?\r\n\t\t\t\t\tfriend.map(u =>\r\n\t\t\t\t\t\t<div key={u.id} className={s.userItem + ' ' + (profile && u.id === profile.userId && s.active)}\r\n\t\t\t\t\t\t\t\t onClick={() => {\r\n\t\t\t\t\t\t\t\t\t getDialogs(u.id)\r\n\t\t\t\t\t\t\t\t }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img className={s.ava} src={u.photos.large || ava} alt=\"\"/>\r\n\t\t\t\t\t\t\t<div className={s.name}>{u.name}</div>\r\n\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t: <Preloader/>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.dialogsWrapper}>\r\n\t\t\t\t<div className={s.dialogs}>\r\n\t\t\t\t\t{profile && <div className={s.posts}>\r\n\t\t\t\t\t\t<div className={s.userPostWrapper}>\r\n\t\t\t\t\t\t\t{newFriendMessages.map(m =>\r\n\t\t\t\t\t\t\t\t<div key={m.id+Math.random()} className={s.userPost}>\r\n\t\t\t\t\t\t\t\t\t<div className={s.userInfo}>\r\n\t\t\t\t\t\t\t\t\t\t<NavLink to={`/profile/${profile.userId}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<img className={s.postAvatar} src={profile.photos.large || ava} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t<b>{m.senderName}</b>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className={s.postContent}>\r\n\t\t\t\t\t\t\t\t\t\t<div>{m.body}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={s.date}>{m.addedAt.slice(8, 10)}.{m.addedAt.slice(5, 7)}.{m.addedAt.slice(0, 4)}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.date}>{m.addedAt.slice(11, 13)}.{m.addedAt.slice(14, 16)}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={s.myPostWrapper}>\r\n\t\t\t\t\t\t\t{messages.map(m =>\r\n\t\t\t\t\t\t\t\t<div key={m.id} className={s.myPost}>\r\n\t\t\t\t\t\t\t\t\t<div  className={s.myPostContent}>\r\n\t\t\t\t\t\t\t\t\t\t<div>{m.body}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.date}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{m.addedAt.slice(8, 10)}.{m.addedAt.slice(5, 7)}.{m.addedAt.slice(0, 4)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.date}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{m.addedAt.slice(11, 13)}.{m.addedAt.slice(14, 16)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className={s.userInfo}>\r\n\t\t\t\t\t\t\t\t\t\t<img className={s.postAvatar} src={myPhoto.large || ava} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t<b>{m.senderName}</b>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.dialogForm}>\r\n\t\t\t\t\t<DialogsReduxForm onSubmit={onSubmit}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n};\r\n\r\n","import React from 'react';\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {getFriendMessage, getUsersForFriends, sendNewMessage} from \"../Redux/dialogsReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../Hoc/Redirect/withAuthRedirect\";\r\nimport {getNewProfile} from \"../Redux/profileReducer\";\r\nimport {getMyPhoto} from \"../Redux/authReducer\";\r\nimport {Preloader} from \"../Others/Preloader/Preloader\";\r\n\r\n\r\n\r\nclass DialogsContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsersForFriends(this.props.page,100);\r\n\t\tthis.props.getMyPhoto(this.props.loginId)\r\n}\r\n\r\n\r\n\trender() {\r\n\t\tif(this.props.friendLoaded){\r\n\t\t\treturn <Dialogs {...this.props}/>\r\n\t\t}else{\r\n\t\t\treturn <Preloader/>\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: state.dialogsPage.users,\r\n\t\ttotalCount: state.dialogsPage.totalCount,\r\n\t\tpage: state.dialogsPage.page,\r\n\t\tfriendLoaded: state.dialogsPage.friendLoaded,\r\n\t\tsendMessageStatus: state.dialogsPage.sendMessageStatus,\r\n\t\tloadFriendMessages: state.dialogsPage.loadFriendMessages,\r\n\t\tmyMessages: state.dialogsPage.myMessages,\r\n\t\tfriendMessages: state.dialogsPage.friendMessages,\r\n\t\tuserProfile: state.profilePage.profile,\r\n\t\tloadProfile: state.profilePage.loadProfile,\r\n\t\tloginId: state.auth.id,\r\n\t\tmyPhoto: state.auth.myPhoto,\r\n\t\tlogin: state.auth.login,\r\n\r\n\t}\r\n};\r\nexport default compose(withAuthRedirect,\r\n\tconnect(mapStateToProps,\r\n\t\t{getUsersForFriends,getNewProfile,getMyPhoto,sendNewMessage,getFriendMessage}))(DialogsContainer);\r\n\r\n"],"sourceRoot":""}