(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{234:function(e,a,t){"use strict";t.d(a,"a",function(){return l}),t.d(a,"b",function(){return i});var n=t(0),r=t.n(n),s=t(235),o=t.n(s),l=function(e){var a=e.input,t=e.label,n=e.size,s=e.type,l=e.placeholder,i=e.autoFocus,c=e.meta,d=c.error,u=c.warning,m=c.touched;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.a.inputLabel+" "+(m&&d?o.a.errorInputLabel:"")},t),r.a.createElement("input",Object.assign({className:o.a.inputField+" "+(m&&d?o.a.errorInputField:"")},a,{autoFocus:i,placeholder:l,size:n,type:s})),m&&(d&&r.a.createElement("div",{className:o.a.inputError},d)||u&&r.a.createElement("div",{className:o.a.inputWarning},u,"  ")))},i=function(e){var a=e.input,t=e.label,n=e.rows,s=e.cols,l=e.meta,i=l.error,c=l.warning,d=l.touched;return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",Object.assign({className:o.a.areaField+" "+(d&&i?o.a.errorAreaField:"")},a,{placeholder:t,rows:n,cols:s})),d&&(i&&r.a.createElement("div",{className:o.a.areaError},i)||c&&r.a.createElement("div",{className:o.a.areaWarning},c)))}},235:function(e,a,t){e.exports={inputLabel:"ValidatorsComponents_inputLabel__3F-N-",areaLabel:"ValidatorsComponents_areaLabel__2pzlo",errorInputLabel:"ValidatorsComponents_errorInputLabel__3zAbC",errorAreaLabel:"ValidatorsComponents_errorAreaLabel__F5YOI",inputField:"ValidatorsComponents_inputField__3mIQw",areaField:"ValidatorsComponents_areaField__3l9xE",errorInputField:"ValidatorsComponents_errorInputField__1QmbF",errorAreaField:"ValidatorsComponents_errorAreaField__1YoIV",areaError:"ValidatorsComponents_areaError__3_5JK",inputError:"ValidatorsComponents_inputError__1Lk95"}},236:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return r}),t.d(a,"c",function(){return s});var n=function(e){if(!(e&&e.length>=1))return"Required field"},r=function(e){return function(a){if(a&&a.length>e)return"Max ".concat(e," symbols")}},s=function(e){return function(a){if(a&&a.length<e)return"Minimum ".concat(e," symbols")}}},252:function(e,a,t){"use strict";t.d(a,"a",function(){return g});var n=t(24),r=t(25),s=t(28),o=t(26),l=t(29),i=t(0),c=t.n(i),d=t(27),u=t(22),m=function(e){return{loadLogin:e.auth.loadLogin}},g=function(e){var a=function(a){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,a),Object(r.a)(t,[{key:"render",value:function(){return this.props.loadLogin?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),t}(c.a.Component);return Object(d.b)(m)(a)}},310:function(e,a,t){e.exports={users:"Dialogs_users__3agL4",userItem:"Dialogs_userItem__2sV4v",ava:"Dialogs_ava__7HtvP",name:"Dialogs_name__32agN",active:"Dialogs_active__1u_c7",search:"Dialogs_search__1dKno",dialogsWrapper:"Dialogs_dialogsWrapper__2amst",dialogs:"Dialogs_dialogs__3By4X",posts:"Dialogs_posts__ai_z8",userPostWrapper:"Dialogs_userPostWrapper__1vMWX",myPostWrapper:"Dialogs_myPostWrapper__2_stn",userPost:"Dialogs_userPost__18gAJ",myPost:"Dialogs_myPost__3ah54",postContent:"Dialogs_postContent__3DN5r",myPostContent:"Dialogs_myPostContent__xBmT0",date:"Dialogs_date__2czFn",userInfo:"Dialogs_userInfo__1P3ky",postAvatar:"Dialogs_postAvatar__1TEoL",dialogForm:"Dialogs_dialogForm__VkoAl"}},311:function(e,a,t){e.exports={newDialogForm:"DialogsReduxForm_newDialogForm__JsTjo",newDialogBtn:"DialogsReduxForm_newDialogBtn__2an9a",Btn:"DialogsReduxForm_Btn__a5Aqy",clearBtn:"DialogsReduxForm_clearBtn__3mGZ9"}},312:function(e,a,t){e.exports=t.p+"static/media/skull.626f1c67.png"},317:function(e,a,t){"use strict";t.r(a);var n=t(24),r=t(25),s=t(28),o=t(26),l=t(29),i=t(0),c=t.n(i),d=t(62),u=t(310),m=t.n(u),g=t(311),p=t.n(g),_=t(118),f=t(119),b=t(236),E=t(234),v=Object(b.c)(3),h=Object(f.a)({form:"newDialogText"})(function(e){var a=e.pristine,t=e.handleSubmit,n=e.submitting,r=e.reset;return c.a.createElement("form",{className:p.a.newDialogForm,onSubmit:t,onKeyPressCapture:function(e){"Enter"===e.key&&t()}},c.a.createElement(_.a,{component:E.b,cols:"170",rows:"3",name:"newTextDialog",validate:[v],label:"At least 3 characters every 5 seconds"}),c.a.createElement("div",{className:p.a.newDialogBtn},c.a.createElement("button",{className:p.a.Btn,disabled:a||n},"Send message"),c.a.createElement("button",{className:p.a.clearBtn,type:"button",disabled:a,onClick:r},"Clear field")))}),N=t(312),P=t.n(N),F=t(50),y=t(17),D=function(e){var a=e.sendNewMessage,t=e.users,n=e.getNewProfile,r=e.myPhoto,s=(e.loadProfile,e.userProfile),o=e.myMessages,l=(e.sendMessageStatus,e.getFriendMessage),u=(e.loadFriendMessages,e.friendMessages),g=Object(i.useState)(s),p=Object(d.a)(g,2),_=p[0],f=p[1],b=Object(i.useState)(t),E=Object(d.a)(b,2),v=E[0],N=E[1],D=Object(i.useState)(o),j=Object(d.a)(D,2),w=j[0],O=j[1],C=Object(i.useState)(u),A=Object(d.a)(C,2),M=A[0],I=A[1];Object(i.useEffect)(function(){I(u)},[_,u]),Object(i.useEffect)(function(){f(s)},[s]),Object(i.useEffect)(function(){O(o)},[o]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:m.a.users},c.a.createElement("input",{className:m.a.search,placeholder:"Search ",type:"text",onChange:function(e){var a;(a=e.target.value).length?N(function(){return t.filter(function(e){return e.name.toLowerCase().match(a.toLowerCase())})}):N(t)}}),v.length?v.map(function(e){return c.a.createElement("div",{key:e.id,className:m.a.userItem+" "+(_&&e.id===_.userId&&m.a.active),onClick:function(){var a;a=e.id,n(a),l(a)}},c.a.createElement("img",{className:m.a.ava,src:e.photos.large||P.a,alt:""}),c.a.createElement("div",{className:m.a.name},e.name))}):c.a.createElement(F.a,null)),c.a.createElement("div",{className:m.a.dialogsWrapper},c.a.createElement("div",{className:m.a.dialogs},_&&c.a.createElement("div",{className:m.a.posts},c.a.createElement("div",{className:m.a.userPostWrapper},M.map(function(e){return c.a.createElement("div",{key:e.id+Math.random(),className:m.a.userPost},c.a.createElement("div",{className:m.a.userInfo},c.a.createElement(y.b,{to:"/profile/".concat(_.userId)},c.a.createElement("img",{className:m.a.postAvatar,src:_.photos.large||P.a,alt:""})),c.a.createElement("b",null,e.senderName)),c.a.createElement("div",{className:m.a.postContent},c.a.createElement("div",null,e.body),c.a.createElement("div",null,c.a.createElement("div",{className:m.a.date},e.addedAt.slice(8,10),".",e.addedAt.slice(5,7),".",e.addedAt.slice(0,4)),c.a.createElement("div",{className:m.a.date},e.addedAt.slice(11,13),".",e.addedAt.slice(14,16)))))})),c.a.createElement("div",{className:m.a.myPostWrapper},w.map(function(e){return c.a.createElement("div",{key:e.id,className:m.a.myPost},c.a.createElement("div",{className:m.a.myPostContent},c.a.createElement("div",null,e.body),c.a.createElement("div",null,c.a.createElement("div",{className:m.a.date},e.addedAt.slice(8,10),".",e.addedAt.slice(5,7),".",e.addedAt.slice(0,4)),c.a.createElement("div",{className:m.a.date},e.addedAt.slice(11,13),".",e.addedAt.slice(14,16)))),c.a.createElement("div",{className:m.a.userInfo},c.a.createElement("img",{className:m.a.postAvatar,src:r.large||P.a,alt:""}),c.a.createElement("b",null,e.senderName)))})))),c.a.createElement("div",{className:m.a.dialogForm},c.a.createElement(h,{onSubmit:function(e){e.newTextDialog&&a(_.userId,e.newTextDialog);var t;return(t=5e3,new Promise(function(e){return setTimeout(e,t)})).then(function(){return!0})}}))))},j=t(27),w=t(81),O=t(16),C=t(252),A=t(63),M=t(39),I=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsersForFriends(this.props.page,100),this.props.getMyPhoto(this.props.loginId)}},{key:"render",value:function(){return this.props.friendLoaded?c.a.createElement(D,this.props):c.a.createElement(F.a,null)}}]),a}(c.a.Component);a.default=Object(O.d)(C.a,Object(j.b)(function(e){return{users:e.dialogsPage.users,totalCount:e.dialogsPage.totalCount,page:e.dialogsPage.page,friendLoaded:e.dialogsPage.friendLoaded,sendMessageStatus:e.dialogsPage.sendMessageStatus,loadFriendMessages:e.dialogsPage.loadFriendMessages,myMessages:e.dialogsPage.myMessages,friendMessages:e.dialogsPage.friendMessages,userProfile:e.profilePage.profile,loadProfile:e.profilePage.loadProfile,loginId:e.auth.id,myPhoto:e.auth.myPhoto,login:e.auth.login}},{getUsersForFriends:w.c,getNewProfile:A.f,getMyPhoto:M.c,sendNewMessage:w.d,getFriendMessage:w.b}))(I)}}]);
//# sourceMappingURL=6.26749a4c.chunk.js.map