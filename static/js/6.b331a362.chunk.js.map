{"version":3,"sources":["Components/Validators/ValidatorsComponents.jsx","Components/Validators/ValidatorsComponents.module.scss","Components/Validators/CheckComponent.jsx","Components/Hoc/Redirect/withAuthRedirect.jsx","Components/Dialogs/Dialogs.module.scss","Images/skull.png","Components/Dialogs/DialogsReduxForm.module.scss","Components/Dialogs/DialogsReduxForm.jsx","Components/Dialogs/Posts.jsx","Components/Dialogs/Friends.jsx","Components/Dialogs/Dialogs.jsx","Components/Dialogs/DialogsContainer.jsx"],"names":["__webpack_require__","d","__webpack_exports__","InputComponent","TextAreaComponent","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ValidatorsComponents_module_scss__WEBPACK_IMPORTED_MODULE_1__","_ValidatorsComponents_module_scss__WEBPACK_IMPORTED_MODULE_1___default","_ref","input","label","size","type","placeholder","autoFocus","_ref$meta","meta","error","warning","touched","a","createElement","Fragment","className","s","inputLabel","errorInputLabel","Object","assign","inputField","errorInputField","inputError","inputWarning","_ref2","rows","cols","_ref2$meta","areaField","errorAreaField","areaError","areaWarning","module","exports","areaLabel","errorAreaLabel","emptyField","maxLengthCreator","minLengthCreator","value","length","maxLength","values","concat","minLength","mapStateToProps","state","loadLogin","auth","withAuthRedirect","Component","redirectWrapper","_React$Component","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_Sfinx_Desktop_MySocialNetvork_SocialNetvork_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","props","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","React","connect","search","friends","friendItem","ava","name","active","dialogsWrapper","dialogs","posts","postWrapper","myPostWrapper","userPost","myPost","postContent","myPostContent","attributes","date","hour","dell","postText","userInfo","postAvatar","dialogForm","p","newDialogForm","newDialogBtn","Btn","clearBtn","minLength3","reduxForm","form","pristine","handleSubmit","submitting","reset","react_default","onSubmit","onKeyPressCapture","event","Field","component","validate","disabled","onClick","Posts","messages","profile","deleteMessage","myPhoto","myId","map","m","id","Math","random","senderId","react_router_dom","userId","src","large","alt","photos","senderName","addedAt","slice","body","Friends","friend","getDialogs","u","Preloader","Dialogs","sendNewMessage","getNewProfile","userProfile","getMessages","allMessages","_useState","useState","_useState2","slicedToArray","setProfile","_useState3","_useState4","setFriends","_useState5","_useState6","setMessages","useEffect","onChange","target","filter","t","toLowerCase","match","Friends_Friends","style","color","fontSize","Posts_Posts","Dialogs_DialogsReduxForm","newTextDialog","ms","Promise","resolve","setTimeout","then","DialogsContainer","nextProps","nextState","friendLoaded","getUsersForFriends","page","getMyPhoto","loginId","Dialogs_Dialogs","compose","dialogsPage","totalCount","sendMessageStatus","profilePage","login"],"mappings":"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","file":"static/js/6.b331a362.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from './ValidatorsComponents.module.scss';\r\n\r\n\r\n\r\n// input for Redux-form\r\nexport const InputComponent = (\r\n\t{input,label,size,type,placeholder,autoFocus,meta: {error, warning, touched}}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.inputLabel + ' ' + (touched && error ? s.errorInputLabel : '')}>{label}</div>\r\n\t\t\t<input className={s.inputField + ' ' + (touched && error ? s.errorInputField : '')}\r\n\t\t\t\t\t\t {...input} autoFocus={autoFocus} placeholder={placeholder} size={size} type={type}/>\r\n\t\t\t{touched &&\r\n\t\t\t((error && <div className={s.inputError}>{error}</div>) ||\r\n\t\t\t\t(warning && <div className={s.inputWarning}>{warning}  </div>))}\r\n\t\t</>\r\n\t)\r\n};\r\n// textarea for Redux-form\r\nexport const TextAreaComponent = (\r\n\t{input,label,rows,cols,meta: {error, warning, touched}}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<textarea className={s.areaField + ' ' + (touched && error ? s.errorAreaField : '')}\r\n\t\t\t\t\t\t {...input} placeholder={label} rows={rows} cols={cols} />\r\n\t\t\t{touched &&\r\n\t\t\t((error && <div className={s.areaError}>{error}</div>) ||\r\n\t\t\t\t(warning && <div className={s.areaWarning}>{warning}</div>))}\r\n\t\t</>\r\n\t)\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputLabel\":\"ValidatorsComponents_inputLabel__3F-N-\",\"areaLabel\":\"ValidatorsComponents_areaLabel__2pzlo\",\"errorInputLabel\":\"ValidatorsComponents_errorInputLabel__3zAbC\",\"errorAreaLabel\":\"ValidatorsComponents_errorAreaLabel__F5YOI\",\"inputField\":\"ValidatorsComponents_inputField__3mIQw\",\"areaField\":\"ValidatorsComponents_areaField__3l9xE\",\"errorInputField\":\"ValidatorsComponents_errorInputField__1QmbF\",\"errorAreaField\":\"ValidatorsComponents_errorAreaField__1YoIV\",\"areaError\":\"ValidatorsComponents_areaError__3_5JK\",\"inputError\":\"ValidatorsComponents_inputError__1Lk95\"};","\r\n\r\nexport const emptyField =(value) => {\r\n\tif(value && value.length>=1) return undefined;\r\n\treturn 'Required field'\r\n};\r\n\r\nexport const maxLengthCreator=(maxLength) =>(values) => {\r\n\tif(values && values.length>maxLength) return `Max ${maxLength} symbols`;\r\n\treturn undefined;\r\n};\r\n\r\nexport const minLengthCreator=(minLength) =>(values) => {\r\n\tif(values && values.length<minLength) return `Minimum ${minLength} symbols`;\r\n\treturn undefined;\r\n};\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tloadLogin: state.auth.loadLogin\r\n\t}\r\n};\r\n// редирект на страницу логина со страниц с необходимостью авторизации\r\nexport const withAuthRedirect =(Component) => {\r\n\tclass redirectWrapper extends React.Component  {\r\n\trender() {\r\n\t\tif(!this.props.loadLogin) return <Redirect to='/login'/>;\r\n\t\treturn <Component {...this.props}/>\r\n\t}\r\n}\r\nreturn connect(mapStateToProps)(redirectWrapper);\r\n\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Dialogs_search__1dKno\",\"friends\":\"Dialogs_friends__10XuZ\",\"friendItem\":\"Dialogs_friendItem__1DKhC\",\"ava\":\"Dialogs_ava__7HtvP\",\"name\":\"Dialogs_name__32agN\",\"active\":\"Dialogs_active__1u_c7\",\"dialogsWrapper\":\"Dialogs_dialogsWrapper__2amst\",\"dialogs\":\"Dialogs_dialogs__3By4X\",\"posts\":\"Dialogs_posts__ai_z8\",\"postWrapper\":\"Dialogs_postWrapper__yohWv\",\"myPostWrapper\":\"Dialogs_myPostWrapper__2_stn\",\"userPost\":\"Dialogs_userPost__18gAJ\",\"myPost\":\"Dialogs_myPost__3ah54\",\"postContent\":\"Dialogs_postContent__3DN5r\",\"myPostContent\":\"Dialogs_myPostContent__xBmT0\",\"attributes\":\"Dialogs_attributes__1uwka\",\"date\":\"Dialogs_date__2czFn\",\"hour\":\"Dialogs_hour__2GPmR\",\"dell\":\"Dialogs_dell__33AnR\",\"postText\":\"Dialogs_postText__2ANC0\",\"userInfo\":\"Dialogs_userInfo__1P3ky\",\"postAvatar\":\"Dialogs_postAvatar__1TEoL\",\"dialogForm\":\"Dialogs_dialogForm__VkoAl\"};","module.exports = __webpack_public_path__ + \"static/media/skull.626f1c67.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newDialogForm\":\"DialogsReduxForm_newDialogForm__JsTjo\",\"newDialogBtn\":\"DialogsReduxForm_newDialogBtn__2an9a\",\"Btn\":\"DialogsReduxForm_Btn__a5Aqy\",\"clearBtn\":\"DialogsReduxForm_clearBtn__3mGZ9\"};","import React from 'react';\r\nimport s from './DialogsReduxForm.module.scss';\r\nimport {Field,reduxForm} from \"redux-form\";\r\n\r\nimport {minLengthCreator} from \"../Validators/CheckComponent\";\r\nimport {TextAreaComponent} from \"../Validators/ValidatorsComponents\";\r\n\r\n\r\n\r\nlet minLength3=minLengthCreator(3);\r\n\r\nconst DialogsReduxForm = ({pristine,handleSubmit,submitting,reset}) => {\r\n\r\n\treturn (\r\n\t\t<form  className={s.newDialogForm} onSubmit={handleSubmit} onKeyPressCapture={(event) => {\r\n\r\n\t\t\tif (event.key === 'Enter') {\r\n\t\t\t\thandleSubmit()\r\n\t\t\t}\r\n\t\t}} >\r\n\t\t\t<Field\r\n\t\t\t\t\t\t component={TextAreaComponent}\r\n\t\t\t\t\t\t cols='170' rows='3' name={'newTextDialog'}\r\n\t\t\t\t\t\t validate={[minLength3]} label='At least 3 characters every 5 seconds'\r\n\r\n\t\t\t/>\r\n\t\t\t<div className={s.newDialogBtn}>\r\n\t\t\t\t<button className={s.Btn} disabled={pristine || submitting}>Send message</button>\r\n\t\t\t\t<button className={s.clearBtn} type=\"button\" disabled={pristine} onClick={reset}>\r\n\t\t\t\t\tClear field\r\n\t\t\t\t</button>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</form>\r\n\t)\r\n};\r\nexport default reduxForm({form: 'newDialogText'})(DialogsReduxForm);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Dialogs.module.scss';\r\n\r\nimport ava from \"./../../Images/skull.png\";\r\n\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const Posts = ({\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessages, profile, deleteMessage, myPhoto, myId\r\n\t\t\t\t\t\t\t\t\t\t\t}) => {\r\n\r\n\treturn (\r\n\r\n\t\t<div className={s.posts}>\r\n\t\t\t{messages.length && messages.map(m =>\r\n\t\t\t\t<div key={m.id + Math.random()} className={s.postWrapper + ' ' + (m.senderId === myId ? s.myPostWrapper : '')}>\r\n\t\t\t\t\t<div className={s.userPost}>\r\n\t\t\t\t\t\t<div className={s.userInfo}>\r\n\t\t\t\t\t\t\t<NavLink to={`/profile/${profile.userId}`}>\r\n\t\t\t\t\t\t\t\t{m.senderId === myId ? <img className={s.postAvatar} src={myPhoto.large || ava} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t: <img className={s.postAvatar} src={profile.photos ? profile.photos.large : ava} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<b>{m.senderName}</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={s.postContent + ' ' + (m.senderId === myId ? s.myPostContent : '')}>\r\n\t\t\t\t\t\t\t<div className={s.attributes}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={s.date}>{m.addedAt.slice(8, 10)}.{m.addedAt.slice(5, 7)}.{m.addedAt.slice(0, 4)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className={s.hour}>{m.addedAt.slice(11, 13)}.{m.addedAt.slice(14, 16)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className={s.dell} onClick={() => {\r\n\t\t\t\t\t\t\t\t\tdeleteMessage(m.id, profile.userId)\r\n\t\t\t\t\t\t\t\t}}>Удалить\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={s.postText}>{m.body}</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>)}\r\n\t\t</div>\r\n\r\n\r\n\t)\r\n};\r\n\r\n","import React from 'react';\r\nimport s from './Dialogs.module.scss';\r\nimport ava from \"./../../Images/skull.png\";\r\nimport {Preloader} from \"../Others/Preloader/Preloader\";\r\n\r\n\r\nexport const Friends = ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfriend, profile,getDialogs\r\n\t\t\t\t\t\t\t\t\t\t\t}) => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{friend.length ?\r\n\t\t\t\tfriend.map(u =>\r\n\t\t\t\t\t<div key={u.id} className={s.friendItem + ' ' + (profile && u.id === profile.userId && s.active)}\r\n\t\t\t\t\t\t\t onClick={() => {\r\n\t\t\t\t\t\t\t\t getDialogs(u.id)\r\n\t\t\t\t\t\t\t }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className={s.ava} src={u.photos.large || ava} alt=\"\"/>\r\n\t\t\t\t\t\t<div className={s.name}>{u.name}</div>\r\n\t\t\t\t\t</div>)\r\n\t\t\t\t: <Preloader/>\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n};\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport s from './Dialogs.module.scss';\r\nimport DialogsReduxForm from \"./DialogsReduxForm\";\r\nimport {Posts} from \"./Posts\";\r\nimport {Friends} from \"./Friends\";\r\n\r\n\r\nexport const Dialogs = ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsendNewMessage, friends, getNewProfile, myId, myPhoto,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserProfile, getMessages, deleteMessage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallMessages,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}) => {\r\n\tconst [profile, setProfile] = useState(userProfile);\r\n\tconst [friend, setFriends] = useState(friends);\r\n\tconst [messages, setMessages] = useState(allMessages);\r\n\r\n\tlet getDialogs = (id) => {\r\n\t\tgetNewProfile(id);\r\n\t\tgetMessages(id)\r\n\t};\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tsetProfile(userProfile)\r\n\t}, [userProfile]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMessages(allMessages)\r\n\t}, [allMessages]);\r\n\r\n\r\n\tlet searchFriend = (name) => {\r\n\t\tif (name.length) {\r\n\t\t\tsetFriends(() => friends.filter(t => t.name.toLowerCase().match(name.toLowerCase())));\r\n\t\t} else {\r\n\t\t\tsetFriends(friends);\r\n\t\t}\r\n\t};\r\n\r\n\tlet onSubmit = (values) => {\r\n\t\tvalues.newTextDialog && sendNewMessage(profile.userId, values.newTextDialog);\r\n\t\tconst disableBtnSend = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\t\treturn disableBtnSend(5000).then(() => {\r\n\t\t\treturn true;\r\n\t\t})\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<input className={s.search} placeholder='Search ' type='text' onChange={(event) => {\r\n\t\t\t\tsearchFriend(event.target.value)\r\n\t\t\t}}/>\r\n\t\t\t<div className={s.friends}>\r\n\r\n\t\t\t<Friends {...{friend, profile,getDialogs}} />\r\n\t\t\t</div>\r\n\t\t\t<div className={s.dialogsWrapper}>\r\n\t\t\t\t<div style={{color: 'red', fontSize: '1.5rem'}}>Диалоги еще в разработке.Ждем оппонентов.Пока никто еще не\r\n\t\t\t\t\tпишет...\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={s.dialogs}>\r\n\t\t\t\t\t{!messages.length && <div>Полковнику никто не пишет....</div>}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprofile && messages.length\r\n\t\t\t\t\t\t&&\r\n\t\t\t\t\t\t<Posts {...{messages, profile, deleteMessage, myId, myPhoto}}/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.dialogForm}>\r\n\t\t\t\t\t<DialogsReduxForm onSubmit={onSubmit}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n};\r\n\r\n","import React from 'react';\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {deleteMessage, getMessages, getUsersForFriends, sendNewMessage, setFriends} from \"../Redux/dialogsReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../Hoc/Redirect/withAuthRedirect\";\r\nimport {getNewProfile} from \"../Redux/profileReducer\";\r\nimport {getMyPhoto} from \"../Redux/authReducer\";\r\nimport {Preloader} from \"../Others/Preloader/Preloader\";\r\n\r\n\r\n\r\nclass DialogsContainer extends React.Component {\r\n\r\n\tshouldComponentUpdate(nextProps,nextState) {\r\n\t\treturn nextProps.friendLoaded !== this.props.friendLoaded ||\r\n\t\t\tnextProps.userProfile !== this.props.userProfile ||\r\n\t\t\tnextProps.allMessages !== this.props.allMessages ||\r\n\t\t\tnextState !== this.state\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsersForFriends(this.props.page,100);\r\n\t\tthis.props.getMyPhoto(this.props.loginId)\r\n}\r\n\r\n\trender() {\r\n\t\tif(this.props.friendLoaded){\r\n\t\t\treturn <Dialogs {...this.props}/>\r\n\t\t}else{\r\n\t\t\treturn <Preloader/>\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriends: state.dialogsPage.friends,\r\n\t\ttotalCount: state.dialogsPage.totalCount,\r\n\t\tpage: state.dialogsPage.page,\r\n\t\tfriendLoaded: state.dialogsPage.friendLoaded,\r\n\t\tsendMessageStatus: state.dialogsPage.sendMessageStatus,\r\n\t\tallMessages: state.dialogsPage.allMessages,\r\n\t\tuserProfile: state.profilePage.profile,\r\n\t\tloginId: state.auth.id,\r\n\t\tmyPhoto: state.auth.myPhoto,\r\n\t\tmyId: state.auth.id,\r\n\t\tlogin: state.auth.login,\r\n\r\n\t}\r\n};\r\nexport default compose(withAuthRedirect,\r\n\tconnect(mapStateToProps,\r\n\t\t{getUsersForFriends,getNewProfile,\r\n\t\t\tgetMyPhoto,sendNewMessage,getMessages,\r\n\t\t\tdeleteMessage,setFriends}))(DialogsContainer);\r\n\r\n"],"sourceRoot":""}