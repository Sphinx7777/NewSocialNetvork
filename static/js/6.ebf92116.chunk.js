(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{234:function(e,a,t){"use strict";t.d(a,"a",function(){return l}),t.d(a,"b",function(){return i});var n=t(0),r=t.n(n),o=t(235),s=t.n(o),l=function(e){var a=e.input,t=e.label,n=e.size,o=e.type,l=e.placeholder,i=e.autoFocus,c=e.meta,d=c.error,u=c.warning,m=c.touched;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s.a.inputLabel+" "+(m&&d?s.a.errorInputLabel:"")},t),r.a.createElement("input",Object.assign({className:s.a.inputField+" "+(m&&d?s.a.errorInputField:"")},a,{autoFocus:i,placeholder:l,size:n,type:o})),m&&(d&&r.a.createElement("div",{className:s.a.inputError},d)||u&&r.a.createElement("div",{className:s.a.inputWarning},u,"  ")))},i=function(e){var a=e.input,t=e.label,n=e.rows,o=e.cols,l=e.meta,i=l.error,c=l.warning,d=l.touched;return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",Object.assign({className:s.a.areaField+" "+(d&&i?s.a.errorAreaField:"")},a,{placeholder:t,rows:n,cols:o})),d&&(i&&r.a.createElement("div",{className:s.a.areaError},i)||c&&r.a.createElement("div",{className:s.a.areaWarning},c)))}},235:function(e,a,t){e.exports={inputLabel:"ValidatorsComponents_inputLabel__2GXL9",areaLabel:"ValidatorsComponents_areaLabel__19-yA",errorInputLabel:"ValidatorsComponents_errorInputLabel__3_PjR",errorAreaLabel:"ValidatorsComponents_errorAreaLabel__3x-W2",inputField:"ValidatorsComponents_inputField__2b-Mb",areaField:"ValidatorsComponents_areaField__1ARsa",errorInputField:"ValidatorsComponents_errorInputField__26Tpl",errorAreaField:"ValidatorsComponents_errorAreaField__3iWvl",areaError:"ValidatorsComponents_areaError__2OZ-j",inputError:"ValidatorsComponents_inputError__2ueaq"}},236:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return r}),t.d(a,"c",function(){return o});var n=function(e){if(!(e&&e.length>=1))return"Required field"},r=function(e){return function(a){if(a&&a.length>e)return"Max ".concat(e," symbols")}},o=function(e){return function(a){if(a&&a.length<e)return"Minimum ".concat(e," symbols")}}},252:function(e,a,t){"use strict";t.d(a,"a",function(){return p});var n=t(24),r=t(25),o=t(28),s=t(26),l=t(29),i=t(0),c=t.n(i),d=t(27),u=t(22),m=function(e){return{loadLogin:e.auth.loadLogin}},p=function(e){var a=function(a){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,a),Object(r.a)(t,[{key:"render",value:function(){return this.props.loadLogin?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),t}(c.a.Component);return Object(d.b)(m)(a)}},310:function(e,a,t){e.exports={friends:"Dialogs_friends__2iHBp",friendItem:"Dialogs_friendItem__tEYSV",ava:"Dialogs_ava__1oX-6",name:"Dialogs_name__3Ed_H",active:"Dialogs_active__3FxR1",search:"Dialogs_search__YH_gG",dialogsWrapper:"Dialogs_dialogsWrapper__2xYQT",dialogs:"Dialogs_dialogs__3lr3H",posts:"Dialogs_posts__15bLv",postWrapper:"Dialogs_postWrapper__1Jo3b",myPostWrapper:"Dialogs_myPostWrapper__pKEVP",userPost:"Dialogs_userPost__35tAc",myPost:"Dialogs_myPost__3RRnR",postContent:"Dialogs_postContent__1Qx1X",myPostContent:"Dialogs_myPostContent__3T4Sm",date:"Dialogs_date__1wTWI",hour:"Dialogs_hour__CiLkA",dell:"Dialogs_dell__3Tf_7",userInfo:"Dialogs_userInfo__2_W0Y",postAvatar:"Dialogs_postAvatar__32ptn",dialogForm:"Dialogs_dialogForm__2hJ-O"}},311:function(e,a,t){e.exports={newDialogForm:"DialogsReduxForm_newDialogForm__3rcqr",newDialogBtn:"DialogsReduxForm_newDialogBtn__3Md6f",Btn:"DialogsReduxForm_Btn__3A1ms",clearBtn:"DialogsReduxForm_clearBtn__2mZrV"}},312:function(e,a,t){e.exports=t.p+"static/media/skull.626f1c67.png"},317:function(e,a,t){"use strict";t.r(a);var n=t(24),r=t(25),o=t(28),s=t(26),l=t(29),i=t(0),c=t.n(i),d=t(61),u=t(310),m=t.n(u),p=t(311),g=t.n(p),_=t(118),f=t(119),b=t(236),E=t(234),h=Object(b.c)(3),v=Object(f.a)({form:"newDialogText"})(function(e){var a=e.pristine,t=e.handleSubmit,n=e.submitting,r=e.reset;return c.a.createElement("form",{className:g.a.newDialogForm,onSubmit:t,onKeyPressCapture:function(e){"Enter"===e.key&&t()}},c.a.createElement(_.a,{component:E.b,cols:"170",rows:"3",name:"newTextDialog",validate:[h],label:"At least 3 characters every 5 seconds"}),c.a.createElement("div",{className:g.a.newDialogBtn},c.a.createElement("button",{className:g.a.Btn,disabled:a||n},"Send message"),c.a.createElement("button",{className:g.a.clearBtn,type:"button",disabled:a,onClick:r},"Clear field")))}),D=t(312),y=t.n(D),N=t(50),F=t(17),P=function(e){var a=e.sendNewMessage,t=e.friends,n=e.getNewProfile,r=e.myId,o=e.myPhoto,s=e.userProfile,l=e.getMessages,u=e.deleteMessage,p=e.allMessages,g=Object(i.useState)(s),_=Object(d.a)(g,2),f=_[0],b=_[1],E=Object(i.useState)(t),h=Object(d.a)(E,2),D=h[0],P=h[1],w=Object(i.useState)(p),C=Object(d.a)(w,2),j=C[0],O=C[1];Object(i.useEffect)(function(){b(s)},[s]),Object(i.useEffect)(function(){O(p)},[p]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:m.a.friends},c.a.createElement("input",{className:m.a.search,placeholder:"Search ",type:"text",onChange:function(e){var a;(a=e.target.value).length?P(function(){return t.filter(function(e){return e.name.toLowerCase().match(a.toLowerCase())})}):P(t)}}),D.length?D.map(function(e){return c.a.createElement("div",{key:e.id,className:m.a.friendItem+" "+(f&&e.id===f.userId&&m.a.active),onClick:function(){var a;a=e.id,n(a),l(a)}},c.a.createElement("img",{className:m.a.ava,src:e.photos.large||y.a,alt:""}),c.a.createElement("div",{className:m.a.name},e.name))}):c.a.createElement(N.a,null)),c.a.createElement("div",{className:m.a.dialogsWrapper},c.a.createElement("div",{style:{color:"red",fontSize:"1.5rem"}},"\u0414\u0438\u0430\u043b\u043e\u0433\u0438 \u0435\u0449\u0435 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435.\u0416\u0434\u0435\u043c \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432.\u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u0442\u043e \u0435\u0449\u0435 \u043d\u0435 \u043f\u0438\u0448\u0435\u0442..."),c.a.createElement("div",{className:m.a.dialogs},!j.length&&c.a.createElement("div",null,"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a\u0443 \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043f\u0438\u0448\u0435\u0442...."),f&&j.length&&c.a.createElement("div",{className:m.a.posts},j.length&&j.map(function(e){return c.a.createElement("div",{key:e.id+Math.random(),className:m.a.postWrapper+" "+(e.senderId===r?m.a.myPostWrapper:"")},c.a.createElement("div",{className:m.a.userPost},c.a.createElement("div",{className:m.a.userInfo},c.a.createElement(F.b,{to:"/profile/".concat(f.userId)},e.senderId===r?c.a.createElement("img",{className:m.a.postAvatar,src:o.large||y.a,alt:""}):c.a.createElement("img",{className:m.a.postAvatar,src:f.photos?f.photos.large:y.a,alt:""})),c.a.createElement("b",null,e.senderName)),c.a.createElement("div",{className:m.a.postContent+" "+(e.senderId===r?m.a.myPostContent:"")},c.a.createElement("div",null,e.body),c.a.createElement("div",null,c.a.createElement("div",{className:m.a.date},e.addedAt.slice(8,10),".",e.addedAt.slice(5,7),".",e.addedAt.slice(0,4)),c.a.createElement("div",{className:m.a.hour},e.addedAt.slice(11,13),".",e.addedAt.slice(14,16)),c.a.createElement("div",{className:m.a.dell,onClick:function(){u(e.id,f.userId)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))}))),c.a.createElement("div",{className:m.a.dialogForm},c.a.createElement(v,{onSubmit:function(e){e.newTextDialog&&a(f.userId,e.newTextDialog);var t;return(t=5e3,new Promise(function(e){return setTimeout(e,t)})).then(function(){return!0})}}))))},w=t(27),C=t(80),j=t(16),O=t(252),I=t(62),L=t(39),A=function(e){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsersForFriends(this.props.page,100),this.props.getMyPhoto(this.props.loginId)}},{key:"render",value:function(){return this.props.friendLoaded?c.a.createElement(P,this.props):c.a.createElement(N.a,null)}}]),a}(c.a.Component);a.default=Object(j.d)(O.a,Object(w.b)(function(e){return{friends:e.dialogsPage.friends,totalCount:e.dialogsPage.totalCount,page:e.dialogsPage.page,friendLoaded:e.dialogsPage.friendLoaded,sendMessageStatus:e.dialogsPage.sendMessageStatus,allMessages:e.dialogsPage.allMessages,userProfile:e.profilePage.profile,loginId:e.auth.id,myPhoto:e.auth.myPhoto,myId:e.auth.id,login:e.auth.login}},{getUsersForFriends:C.d,getNewProfile:I.f,getMyPhoto:L.c,sendNewMessage:C.e,getMessages:C.c,deleteMessage:C.b}))(A)}}]);
//# sourceMappingURL=6.ebf92116.chunk.js.map