{"version":3,"sources":["Components/Validators/ValidatorsComponents.jsx","Components/Validators/ValidatorsComponents.module.scss","Components/Validators/CheckComponent.jsx","Components/Hoc/Redirect/withAuthRedirect.jsx","Components/Dialogs/Dialogs.module.scss","Components/Dialogs/DialogsReduxForm.module.scss","Images/skull.png","Components/Dialogs/DialogsReduxForm.jsx","Components/Dialogs/Dialogs.jsx","Components/Dialogs/DialogsContainer.jsx"],"names":["__webpack_require__","d","__webpack_exports__","InputComponent","TextAreaComponent","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ValidatorsComponents_module_scss__WEBPACK_IMPORTED_MODULE_1__","_ValidatorsComponents_module_scss__WEBPACK_IMPORTED_MODULE_1___default","_ref","input","label","size","type","placeholder","autoFocus","_ref$meta","meta","error","warning","touched","a","createElement","Fragment","className","s","inputLabel","errorInputLabel","Object","assign","inputField","errorInputField","inputError","inputWarning","_ref2","rows","cols","_ref2$meta","areaField","errorAreaField","areaError","areaWarning","module","exports","areaLabel","errorAreaLabel","emptyField","maxLengthCreator","minLengthCreator","value","length","maxLength","values","concat","minLength","mapStateToProps","state","loadLogin","auth","withAuthRedirect","Component","redirectWrapper","_React$Component","C_NewSocialNetwork_SocialNetvork_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_NewSocialNetwork_SocialNetvork_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_NewSocialNetwork_SocialNetvork_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","C_NewSocialNetwork_SocialNetvork_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_NewSocialNetwork_SocialNetvork_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","props","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","React","connect","friends","friendItem","ava","name","active","search","dialogsWrapper","dialogs","posts","postWrapper","myPostWrapper","userPost","myPost","postContent","myPostContent","date","hour","dell","userInfo","postAvatar","dialogForm","newDialogForm","newDialogBtn","Btn","clearBtn","p","minLength3","reduxForm","form","pristine","handleSubmit","submitting","reset","react_default","onSubmit","onKeyPressCapture","event","Field","component","validate","disabled","onClick","Dialogs","sendNewMessage","getNewProfile","myId","myPhoto","userProfile","getMessages","deleteMessage","allMessages","_useState","useState","_useState2","slicedToArray","profile","setProfile","_useState3","_useState4","friend","setFriends","_useState5","_useState6","messages","setMessages","useEffect","onChange","target","filter","t","toLowerCase","match","map","u","id","userId","src","photos","large","alt","Preloader","style","color","fontSize","m","Math","random","senderId","react_router_dom","senderName","body","addedAt","slice","Dialogs_DialogsReduxForm","newTextDialog","ms","Promise","resolve","setTimeout","then","DialogsContainer","getUsersForFriends","page","getMyPhoto","loginId","friendLoaded","Dialogs_Dialogs","compose","dialogsPage","totalCount","sendMessageStatus","profilePage","login"],"mappings":"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","file":"static/js/6.ebf92116.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from './ValidatorsComponents.module.scss';\r\n\r\n\r\n\r\n// input for Redux-form\r\nexport const InputComponent = (\r\n\t{input,label,size,type,placeholder,autoFocus,meta: {error, warning, touched}}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.inputLabel + ' ' + (touched && error ? s.errorInputLabel : '')}>{label}</div>\r\n\t\t\t<input className={s.inputField + ' ' + (touched && error ? s.errorInputField : '')}\r\n\t\t\t\t\t\t {...input} autoFocus={autoFocus} placeholder={placeholder} size={size} type={type}/>\r\n\t\t\t{touched &&\r\n\t\t\t((error && <div className={s.inputError}>{error}</div>) ||\r\n\t\t\t\t(warning && <div className={s.inputWarning}>{warning}  </div>))}\r\n\t\t</>\r\n\t)\r\n};\r\n// textarea for Redux-form\r\nexport const TextAreaComponent = (\r\n\t{input,label,rows,cols,meta: {error, warning, touched}}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<textarea className={s.areaField + ' ' + (touched && error ? s.errorAreaField : '')}\r\n\t\t\t\t\t\t {...input} placeholder={label} rows={rows} cols={cols} />\r\n\t\t\t{touched &&\r\n\t\t\t((error && <div className={s.areaError}>{error}</div>) ||\r\n\t\t\t\t(warning && <div className={s.areaWarning}>{warning}</div>))}\r\n\t\t</>\r\n\t)\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputLabel\":\"ValidatorsComponents_inputLabel__2GXL9\",\"areaLabel\":\"ValidatorsComponents_areaLabel__19-yA\",\"errorInputLabel\":\"ValidatorsComponents_errorInputLabel__3_PjR\",\"errorAreaLabel\":\"ValidatorsComponents_errorAreaLabel__3x-W2\",\"inputField\":\"ValidatorsComponents_inputField__2b-Mb\",\"areaField\":\"ValidatorsComponents_areaField__1ARsa\",\"errorInputField\":\"ValidatorsComponents_errorInputField__26Tpl\",\"errorAreaField\":\"ValidatorsComponents_errorAreaField__3iWvl\",\"areaError\":\"ValidatorsComponents_areaError__2OZ-j\",\"inputError\":\"ValidatorsComponents_inputError__2ueaq\"};","\r\n\r\nexport const emptyField =(value) => {\r\n\tif(value && value.length>=1) return undefined;\r\n\treturn 'Required field'\r\n};\r\n\r\nexport const maxLengthCreator=(maxLength) =>(values) => {\r\n\tif(values && values.length>maxLength) return `Max ${maxLength} symbols`;\r\n\treturn undefined;\r\n};\r\n\r\nexport const minLengthCreator=(minLength) =>(values) => {\r\n\tif(values && values.length<minLength) return `Minimum ${minLength} symbols`;\r\n\treturn undefined;\r\n};\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tloadLogin: state.auth.loadLogin\r\n\t}\r\n};\r\n// редирект на страницу логина со страниц с необходимостью авторизации\r\nexport const withAuthRedirect =(Component) => {\r\n\tclass redirectWrapper extends React.Component  {\r\n\trender() {\r\n\t\tif(!this.props.loadLogin) return <Redirect to='/login'/>;\r\n\t\treturn <Component {...this.props}/>\r\n\t}\r\n}\r\nreturn connect(mapStateToProps)(redirectWrapper);\r\n\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Dialogs_friends__2iHBp\",\"friendItem\":\"Dialogs_friendItem__tEYSV\",\"ava\":\"Dialogs_ava__1oX-6\",\"name\":\"Dialogs_name__3Ed_H\",\"active\":\"Dialogs_active__3FxR1\",\"search\":\"Dialogs_search__YH_gG\",\"dialogsWrapper\":\"Dialogs_dialogsWrapper__2xYQT\",\"dialogs\":\"Dialogs_dialogs__3lr3H\",\"posts\":\"Dialogs_posts__15bLv\",\"postWrapper\":\"Dialogs_postWrapper__1Jo3b\",\"myPostWrapper\":\"Dialogs_myPostWrapper__pKEVP\",\"userPost\":\"Dialogs_userPost__35tAc\",\"myPost\":\"Dialogs_myPost__3RRnR\",\"postContent\":\"Dialogs_postContent__1Qx1X\",\"myPostContent\":\"Dialogs_myPostContent__3T4Sm\",\"date\":\"Dialogs_date__1wTWI\",\"hour\":\"Dialogs_hour__CiLkA\",\"dell\":\"Dialogs_dell__3Tf_7\",\"userInfo\":\"Dialogs_userInfo__2_W0Y\",\"postAvatar\":\"Dialogs_postAvatar__32ptn\",\"dialogForm\":\"Dialogs_dialogForm__2hJ-O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newDialogForm\":\"DialogsReduxForm_newDialogForm__3rcqr\",\"newDialogBtn\":\"DialogsReduxForm_newDialogBtn__3Md6f\",\"Btn\":\"DialogsReduxForm_Btn__3A1ms\",\"clearBtn\":\"DialogsReduxForm_clearBtn__2mZrV\"};","module.exports = __webpack_public_path__ + \"static/media/skull.626f1c67.png\";","import React from 'react';\r\nimport s from './DialogsReduxForm.module.scss';\r\nimport {Field,reduxForm} from \"redux-form\";\r\n\r\nimport {minLengthCreator} from \"../Validators/CheckComponent\";\r\nimport {TextAreaComponent} from \"../Validators/ValidatorsComponents\";\r\n\r\n\r\n\r\nlet minLength3=minLengthCreator(3);\r\n\r\nconst DialogsReduxForm = ({pristine,handleSubmit,submitting,reset}) => {\r\n\r\n\treturn (\r\n\t\t<form  className={s.newDialogForm} onSubmit={handleSubmit} onKeyPressCapture={(event) => {\r\n\r\n\t\t\tif (event.key === 'Enter') {\r\n\t\t\t\thandleSubmit()\r\n\t\t\t}\r\n\t\t}} >\r\n\t\t\t<Field\r\n\t\t\t\t\t\t component={TextAreaComponent}\r\n\t\t\t\t\t\t cols='170' rows='3' name={'newTextDialog'}\r\n\t\t\t\t\t\t validate={[minLength3]} label='At least 3 characters every 5 seconds'\r\n\r\n\t\t\t/>\r\n\t\t\t<div className={s.newDialogBtn}>\r\n\t\t\t\t<button className={s.Btn} disabled={pristine || submitting}>Send message</button>\r\n\t\t\t\t<button className={s.clearBtn} type=\"button\" disabled={pristine} onClick={reset}>\r\n\t\t\t\t\tClear field\r\n\t\t\t\t</button>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</form>\r\n\t)\r\n};\r\nexport default reduxForm({form: 'newDialogText'})(DialogsReduxForm);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport s from './Dialogs.module.scss';\r\nimport DialogsReduxForm from \"./DialogsReduxForm\";\r\nimport ava from \"./../../Images/skull.png\";\r\nimport {Preloader} from \"../Others/Preloader/Preloader\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const Dialogs = ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsendNewMessage, friends, getNewProfile,myId, myPhoto,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserProfile, getMessages,deleteMessage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallMessages,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}) => {\r\n\tconst [profile, setProfile] = useState(userProfile);\r\n\tconst [friend, setFriends] = useState(friends);\r\n\tconst [messages, setMessages] = useState(allMessages);\r\n\r\n\tlet getDialogs = (id) => {\r\n\t\tgetNewProfile(id);\r\n\t\tgetMessages(id)\r\n\t};\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tsetProfile(userProfile)\r\n\t}, [userProfile]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMessages(allMessages)\r\n\t}, [allMessages]);\r\n\r\n\r\n\tlet searchFriend = (name) => {\r\n\t\tif (name.length) {\r\n\t\t\tsetFriends(() => friends.filter(t => t.name.toLowerCase().match(name.toLowerCase())));\r\n\t\t} else {\r\n\t\t\tsetFriends(friends);\r\n\t\t}\r\n\t};\r\n\r\n\tlet onSubmit = (values) => {\r\n\t\tvalues.newTextDialog && sendNewMessage(profile.userId, values.newTextDialog);\r\n\t\tconst disableBtnSend = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\t\treturn disableBtnSend(5000).then(() => {\r\n\t\t\treturn true;\r\n\t\t})\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.friends}>\r\n\t\t\t\t<input className={s.search} placeholder='Search ' type='text' onChange={(event) => {\r\n\t\t\t\t\tsearchFriend(event.target.value)\r\n\t\t\t\t}}/>\r\n\t\t\t\t{friend.length ?\r\n\t\t\t\t\tfriend.map(u =>\r\n\t\t\t\t\t\t<div key={u.id} className={s.friendItem + ' ' + (profile && u.id === profile.userId && s.active)}\r\n\t\t\t\t\t\t\t\t onClick={() => {\r\n\t\t\t\t\t\t\t\t\t getDialogs(u.id)\r\n\t\t\t\t\t\t\t\t }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img className={s.ava} src={u.photos.large || ava} alt=\"\"/>\r\n\t\t\t\t\t\t\t<div className={s.name}>{u.name}</div>\r\n\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t: <Preloader/>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.dialogsWrapper}>\r\n\t\t\t\t<div style={{color:'red',fontSize:'1.5rem'}}>Диалоги еще в разработке.Ждем оппонентов.Пока никто еще не пишет...</div>\r\n\r\n\t\t\t\t<div className={s.dialogs}>\r\n\t\t\t\t\t{!messages.length && <div>Полковнику никто не пишет....</div>}\r\n\t\t\t\t\t{profile && messages.length\r\n\t\t\t\t\t&& <div className={s.posts}>\r\n\t\t\t\t\t\t\t{messages.length && messages.map(m =>\r\n\t\t\t\t\t\t\t\t<div key={m.id+Math.random()} className={s.postWrapper+' '+(m.senderId === myId ? s.myPostWrapper :'')}>\r\n\t\t\t\t\t\t\t\t<div className={s.userPost}>\r\n\t\t\t\t\t\t\t\t\t<div className={s.userInfo}>\r\n\t\t\t\t\t\t\t\t\t\t<NavLink to={`/profile/${profile.userId}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{m.senderId === myId ? <img className={s.postAvatar} src={myPhoto.large || ava} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t:<img className={s.postAvatar} src={profile.photos ? profile.photos.large : ava} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t<b>{m.senderName}</b>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className={s.postContent+' '+(m.senderId === myId ? s.myPostContent :'')}>\r\n\t\t\t\t\t\t\t\t\t\t<div>{m.body}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={s.date}>{m.addedAt.slice(8, 10)}.{m.addedAt.slice(5, 7)}.{m.addedAt.slice(0, 4)}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.hour}>{m.addedAt.slice(11, 13)}.{m.addedAt.slice(14, 16)}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.dell} onClick={()=>{deleteMessage(m.id,profile.userId)}}>Удалить</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>)}\r\n\r\n\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.dialogForm}>\r\n\t\t\t\t\t<DialogsReduxForm onSubmit={onSubmit}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n};\r\n\r\n","import React from 'react';\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {deleteMessage, getMessages, getUsersForFriends, sendNewMessage} from \"../Redux/dialogsReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../Hoc/Redirect/withAuthRedirect\";\r\nimport {getNewProfile} from \"../Redux/profileReducer\";\r\nimport {getMyPhoto} from \"../Redux/authReducer\";\r\nimport {Preloader} from \"../Others/Preloader/Preloader\";\r\n\r\n\r\n\r\nclass DialogsContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsersForFriends(this.props.page,100);\r\n\t\tthis.props.getMyPhoto(this.props.loginId)\r\n}\r\n\r\n\trender() {\r\n\t\tif(this.props.friendLoaded){\r\n\t\t\treturn <Dialogs {...this.props}/>\r\n\t\t}else{\r\n\t\t\treturn <Preloader/>\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriends: state.dialogsPage.friends,\r\n\t\ttotalCount: state.dialogsPage.totalCount,\r\n\t\tpage: state.dialogsPage.page,\r\n\t\tfriendLoaded: state.dialogsPage.friendLoaded,\r\n\t\tsendMessageStatus: state.dialogsPage.sendMessageStatus,\r\n\t\tallMessages: state.dialogsPage.allMessages,\r\n\t\tuserProfile: state.profilePage.profile,\r\n\t\tloginId: state.auth.id,\r\n\t\tmyPhoto: state.auth.myPhoto,\r\n\t\tmyId: state.auth.id,\r\n\t\tlogin: state.auth.login,\r\n\r\n\t}\r\n};\r\nexport default compose(withAuthRedirect,\r\n\tconnect(mapStateToProps,\r\n\t\t{getUsersForFriends,getNewProfile,\r\n\t\t\tgetMyPhoto,sendNewMessage,getMessages,\r\n\t\t\tdeleteMessage}))(DialogsContainer);\r\n\r\n"],"sourceRoot":""}