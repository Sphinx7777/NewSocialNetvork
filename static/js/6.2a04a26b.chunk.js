(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{234:function(e,a,t){"use strict";t.d(a,"a",function(){return l}),t.d(a,"b",function(){return i});var n=t(0),r=t.n(n),s=t(235),o=t.n(s),l=function(e){var a=e.input,t=e.label,n=e.size,s=e.type,l=e.placeholder,i=e.autoFocus,c=e.meta,d=c.error,u=c.warning,m=c.touched;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.a.inputLabel+" "+(m&&d?o.a.errorInputLabel:"")},t),r.a.createElement("input",Object.assign({className:o.a.inputField+" "+(m&&d?o.a.errorInputField:"")},a,{autoFocus:i,placeholder:l,size:n,type:s})),m&&(d&&r.a.createElement("div",{className:o.a.inputError},d)||u&&r.a.createElement("div",{className:o.a.inputWarning},u,"  ")))},i=function(e){var a=e.input,t=e.label,n=e.rows,s=e.cols,l=e.meta,i=l.error,c=l.warning,d=l.touched;return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",Object.assign({className:o.a.areaField+" "+(d&&i?o.a.errorAreaField:"")},a,{placeholder:t,rows:n,cols:s})),d&&(i&&r.a.createElement("div",{className:o.a.areaError},i)||c&&r.a.createElement("div",{className:o.a.areaWarning},c)))}},235:function(e,a,t){e.exports={inputLabel:"ValidatorsComponents_inputLabel__3F-N-",areaLabel:"ValidatorsComponents_areaLabel__2pzlo",errorInputLabel:"ValidatorsComponents_errorInputLabel__3zAbC",errorAreaLabel:"ValidatorsComponents_errorAreaLabel__F5YOI",inputField:"ValidatorsComponents_inputField__3mIQw",areaField:"ValidatorsComponents_areaField__3l9xE",errorInputField:"ValidatorsComponents_errorInputField__1QmbF",errorAreaField:"ValidatorsComponents_errorAreaField__1YoIV",areaError:"ValidatorsComponents_areaError__3_5JK",inputError:"ValidatorsComponents_inputError__1Lk95"}},236:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return r}),t.d(a,"c",function(){return s});var n=function(e){if(!(e&&e.length>=1))return"Required field"},r=function(e){return function(a){if(a&&a.length>e)return"Max ".concat(e," symbols")}},s=function(e){return function(a){if(a&&a.length<e)return"Minimum ".concat(e," symbols")}}},252:function(e,a,t){"use strict";t.d(a,"a",function(){return p});var n=t(24),r=t(25),s=t(28),o=t(26),l=t(29),i=t(0),c=t.n(i),d=t(27),u=t(22),m=function(e){return{loadLogin:e.auth.loadLogin}},p=function(e){var a=function(a){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,a),Object(r.a)(t,[{key:"render",value:function(){return this.props.loadLogin?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),t}(c.a.Component);return Object(d.b)(m)(a)}},253:function(e,a,t){e.exports={search:"Dialogs_search__1dKno",friends:"Dialogs_friends__10XuZ",friendItem:"Dialogs_friendItem__1DKhC",ava:"Dialogs_ava__7HtvP",name:"Dialogs_name__32agN",active:"Dialogs_active__1u_c7",dialogsWrapper:"Dialogs_dialogsWrapper__2amst",dialogs:"Dialogs_dialogs__3By4X",posts:"Dialogs_posts__ai_z8",postWrapper:"Dialogs_postWrapper__yohWv",myPostWrapper:"Dialogs_myPostWrapper__2_stn",userPost:"Dialogs_userPost__18gAJ",myPost:"Dialogs_myPost__3ah54",postContent:"Dialogs_postContent__3DN5r",myPostContent:"Dialogs_myPostContent__xBmT0",attributes:"Dialogs_attributes__1uwka",date:"Dialogs_date__2czFn",hour:"Dialogs_hour__2GPmR",dell:"Dialogs_dell__33AnR",postText:"Dialogs_postText__2ANC0",userInfo:"Dialogs_userInfo__1P3ky",postAvatar:"Dialogs_postAvatar__1TEoL",dialogForm:"Dialogs_dialogForm__VkoAl"}},268:function(e,a,t){e.exports=t.p+"static/media/skull.626f1c67.png"},312:function(e,a,t){e.exports={newDialogForm:"DialogsReduxForm_newDialogForm__JsTjo",newDialogBtn:"DialogsReduxForm_newDialogBtn__2an9a",Btn:"DialogsReduxForm_Btn__a5Aqy",clearBtn:"DialogsReduxForm_clearBtn__3mGZ9"}},315:function(e,a,t){"use strict";t.r(a);var n=t(24),r=t(25),s=t(28),o=t(26),l=t(29),i=t(0),c=t.n(i),d=t(61),u=t(253),m=t.n(u),p=t(312),g=t.n(p),_=t(118),f=t(119),b=t(236),h=t(234),E=Object(b.c)(3),v=Object(f.a)({form:"newDialogText"})(function(e){var a=e.pristine,t=e.handleSubmit,n=e.submitting,r=e.reset;return c.a.createElement("form",{className:g.a.newDialogForm,onSubmit:t,onKeyPressCapture:function(e){"Enter"===e.key&&t()}},c.a.createElement(_.a,{cols:"170",rows:"3",name:"newTextDialog",label:"At least 3 characters every 5 seconds",component:h.b,validate:[E]}),c.a.createElement("div",{className:g.a.newDialogBtn},c.a.createElement("button",{className:g.a.Btn,disabled:a||n},"Send message"),c.a.createElement("button",{className:g.a.clearBtn,type:"reset",disabled:a,onClick:r},"Clear field")))}),y=t(268),D=t.n(y),N=t(17),F=function(e){var a=e.messages,t=e.profile,n=e.deleteMessage,r=e.myPhoto,s=e.myId;return c.a.createElement("div",{className:m.a.posts},a.length&&a.map(function(e){return c.a.createElement("div",{key:e.id+Math.random(),className:m.a.postWrapper+" "+(e.senderId===s?m.a.myPostWrapper:"")},c.a.createElement("div",{className:m.a.userPost},c.a.createElement("div",{className:m.a.userInfo},c.a.createElement(N.b,{to:"/profile/".concat(t.userId)},e.senderId===s?c.a.createElement("img",{className:m.a.postAvatar,src:r.large||D.a,alt:""}):c.a.createElement("img",{className:m.a.postAvatar,src:t.photos?t.photos.large:D.a,alt:""})),c.a.createElement("b",null,e.senderName)),c.a.createElement("div",{className:m.a.postContent+" "+(e.senderId===s?m.a.myPostContent:"")},c.a.createElement("div",{className:m.a.attributes},c.a.createElement("div",null,c.a.createElement("div",{className:m.a.date},e.addedAt.slice(8,10),".",e.addedAt.slice(5,7),".",e.addedAt.slice(0,4)),c.a.createElement("div",{className:m.a.hour},e.addedAt.slice(11,13),".",e.addedAt.slice(14,16))),c.a.createElement("div",{className:m.a.dell,onClick:function(){return n(e.id,t.userId)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),c.a.createElement("div",{className:m.a.postText},e.body))))}))},P=t(50),C=function(e){var a=e.friend,t=e.profile,n=e.getDialogs;return c.a.createElement(c.a.Fragment,null,a.length?a.map(function(e){return c.a.createElement("div",{className:m.a.friendItem+" "+(t&&e.id===t.userId&&m.a.active),key:e.id,onClick:function(){return n(e.id)}},c.a.createElement("img",{className:m.a.ava,src:e.photos.large||D.a,alt:""}),c.a.createElement("div",{className:m.a.name},e.name))}):c.a.createElement(P.a,null))},w=function(e){var a=e.sendNewMessage,t=e.friends,n=e.getNewProfile,r=e.myId,s=e.myPhoto,o=e.userProfile,l=e.getMessages,u=e.deleteMessage,p=e.allMessages,g=Object(i.useState)(o),_=Object(d.a)(g,2),f=_[0],b=_[1],h=Object(i.useState)(t),E=Object(d.a)(h,2),y=E[0],D=E[1],N=Object(i.useState)(p),P=Object(d.a)(N,2),w=P[0],I=P[1];Object(i.useEffect)(function(){b(o)},[o]),Object(i.useEffect)(function(){I(p)},[p]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{className:m.a.search,placeholder:"Search ",type:"text",onChange:function(e){var a;(a=e.target.value).length?D(function(){return t.filter(function(e){return e.name.toLowerCase().match(a.toLowerCase())})}):D(t)}}),c.a.createElement("div",{className:m.a.friends},c.a.createElement(C,{friend:y,profile:f,getDialogs:function(e){n(e),l(e)}})),c.a.createElement("div",{className:m.a.dialogsWrapper},c.a.createElement("div",{style:{color:"red",fontSize:"1.5rem"}},"\u0414\u0438\u0430\u043b\u043e\u0433\u0438 \u0435\u0449\u0435 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435. \u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u0442\u043e \u0435\u0449\u0435 \u043a\u0440\u043e\u043c\u0435 ",c.a.createElement("b",null,"' free '")," \u043d\u0435 \u043f\u0438\u0448\u0435\u0442..."),c.a.createElement("div",{className:m.a.dialogs},!w.length&&c.a.createElement("div",null,"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a\u0443 \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043f\u0438\u0448\u0435\u0442...."),f&&w.length&&c.a.createElement(F,{messages:w,profile:f,deleteMessage:u,myId:r,myPhoto:s})),c.a.createElement("div",{className:m.a.dialogForm},c.a.createElement(v,{onSubmit:function(e){return e.newTextDialog&&a(f.userId,e.newTextDialog),(t=5e3,new Promise(function(e){return setTimeout(e,t)})).then(function(){return!0});var t}}))))},I=t(27),j=t(80),O=t(16),L=t(252),A=t(62),M=t(39),x=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"shouldComponentUpdate",value:function(e,a){return e.friendLoaded!==this.props.friendLoaded||e.userProfile!==this.props.userProfile||e.allMessages!==this.props.allMessages||a!==this.state}},{key:"componentDidMount",value:function(){this.props.getUsersForFriends(this.props.page,100),this.props.getMyPhoto(this.props.loginId)}},{key:"render",value:function(){return this.props.friendLoaded?c.a.createElement(w,this.props):c.a.createElement(P.a,null)}}]),a}(c.a.Component);a.default=Object(O.d)(L.a,Object(I.b)(function(e){return{friends:e.dialogsPage.friends,totalCount:e.dialogsPage.totalCount,page:e.dialogsPage.page,friendLoaded:e.dialogsPage.friendLoaded,sendMessageStatus:e.dialogsPage.sendMessageStatus,allMessages:e.dialogsPage.allMessages,userProfile:e.profilePage.profile,loginId:e.auth.id,myPhoto:e.auth.myPhoto,myId:e.auth.id,login:e.auth.login}},{getUsersForFriends:j.d,getNewProfile:A.f,getMyPhoto:M.c,sendNewMessage:j.e,getMessages:j.c,deleteMessage:j.b,setFriends:j.f}))(x)}}]);
//# sourceMappingURL=6.2a04a26b.chunk.js.map